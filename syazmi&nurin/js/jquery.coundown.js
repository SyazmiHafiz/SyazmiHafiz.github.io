(function ($) { $.fn.countdown = function (a, b) { var c = $.extend({ date: null, offset: null, day: 'Hari', days: 'Hari', hour: 'Jam', hours: 'Jam', minute: 'Minit', minutes: 'Minit', second: 'Saat', seconds: 'Saat' }, a); if (!c.date) { $.error('Date is not defined.') } if (!Date.parse(c.date)) { $.error('Incorrect date format, it should look like this, 12/24/2012 12:00:00.') } var d = this; var e = function () { var f = new Date(); var g = f.getTime() + (f.getTimezoneOffset() * 60000); var h = new Date(g + (3600000 * c.offset)); return h }; function i() { var f = new Date(c.date), g = e(); var h = f - g; if (h < 0) { clearInterval(j); if (b && typeof b === 'function') b(); return } var k = 1000, l = k * 60, m = l * 60, n = m * 24; var o = Math.floor(h / n), p = Math.floor((h % n) / m), q = Math.floor((h % m) / l), r = Math.floor((h % l) / k); var s = (o === 1) ? c.day : c.days, t = (p === 1) ? c.hour : c.hours, u = (q === 1) ? c.minute : c.minutes, v = (r === 1) ? c.second : c.seconds; o = (String(o).length >= 2) ? o : '0' + o; p = (String(p).length >= 2) ? p : '0' + p; q = (String(q).length >= 2) ? q : '0' + q; r = (String(r).length >= 2) ? r : '0' + r; d.find('.days').text(o); d.find('.hours').text(p); d.find('.minutes').text(q); d.find('.seconds').text(r); d.find('.days_text').text(s); d.find('.hours_text').text(t); d.find('.minutes_text').text(u); d.find('.seconds_text').text(v) } var j = setInterval(i, 1000) } })(jQuery);